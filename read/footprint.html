<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: Giải mã Biểu đồ Footprint</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 45vh;
        }
        .flowchart-step {
            border: 2px solid #48CAE4;
            background-color: #ffffff;
            color: #004E89;
            transition: all 0.3s ease;
        }
        .flowchart-arrow {
            color: #0077B6;
            font-size: 2rem;
            line-height: 1;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .text-main { color: #004E89; }
        .text-accent { color: #0077B6; }
        .bg-main { background-color: #004E89; }
        .bg-accent { background-color: #48CAE4; }
        .border-accent { border-color: #48CAE4; }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-main text-white p-6 md:p-8 text-center shadow-lg">
        <h1 class="text-3xl md:text-4xl font-bold mb-2">Giải mã Biểu đồ Footprint</h1>
        <p class="text-lg md:text-xl max-w-3xl mx-auto text-blue-100">Một cái nhìn vi mô về cuộc chiến giữa người mua và người bán để đưa ra quyết định giao dịch chính xác hơn.</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="intro" class="card">
            <h2 class="text-2xl font-bold text-main mb-4">Vượt Ra Ngoài Biểu Đồ Nến</h2>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <p class="mb-4">Biểu đồ nến truyền thống chỉ cho chúng ta thấy <strong class="text-accent">kết quả</strong> của một phiên giao dịch (OHLC), nhưng lại che giấu hoàn toàn <strong class="text-accent">quá trình</strong> đấu giá diễn ra bên trong. Chúng ta không biết khối lượng được phân bổ ở đâu và bên nào (mua hay bán) đang quyết liệt hơn.</p>
                    <p>Biểu đồ Footprint giải quyết vấn đề này bằng cách hiển thị khối lượng giao dịch tại <strong class="text-main">từng mức giá</strong>, phân tách rõ ràng giữa phe mua và phe bán chủ động.</p>
                </div>
                <div class="p-4 border-2 border-dashed border-accent rounded-lg text-center">
                    <h3 class="font-bold text-main mb-2">Biểu đồ nến</h3>
                    <div class="w-16 h-32 bg-red-500 mx-auto relative"><div class="absolute top-0 left-1/2 w-0.5 h-8 bg-black -translate-x-1/2 -translate-y-full"></div><div class="absolute bottom-0 left-1/2 w-0.5 h-8 bg-black -translate-x-1/2 translate-y-full"></div></div>
                    <p class="mt-4 text-sm text-gray-600">Chỉ hiển thị OHLC, che giấu động lực bên trong.</p>
                </div>
            </div>
        </section>

        <section id="anatomy" class="card">
            <h2 class="text-2xl font-bold text-main mb-4">Giải Phẫu Một Thanh Footprint</h2>
            <p class="text-center mb-6 max-w-2xl mx-auto">Mỗi thanh Footprint là một cửa sổ nhìn vào cuộc đấu giá. Nó cho thấy chính xác nơi các trận chiến diễn ra và ai đang chiếm ưu thế.</p>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="text-center">
                    <h3 class="font-bold text-main mb-2">Khối lượng Bid vs. Ask</h3>
                    <p class="text-sm text-gray-600 mb-4">Phân tích sự quyết liệt của phe bán (Bid) và phe mua (Ask).</p>
                    <div class="chart-container h-64 max-h-[30vh]">
                        <canvas id="bidAskChart"></canvas>
                    </div>
                </div>
                <div class="text-center">
                    <h3 class="font-bold text-main mb-2">Delta (Δ): Thước đo sự quyết liệt ròng</h3>
                    <p class="text-sm text-gray-600 mb-4">Delta = Khối lượng Ask - Khối lượng Bid</p>
                    <div class="bg-blue-50 border-2 border-accent rounded-lg p-8">
                        <p class="text-5xl font-bold text-green-600">+1,250</p>
                        <p class="mt-2 text-main font-semibold">Delta Dương: Phe mua chủ động đang thắng thế.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="architecture" class="card">
            <h2 class="text-2xl font-bold text-main mb-4">Các Yếu Tố Kiến Trúc Chính</h2>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h3 class="font-bold text-main mb-2">Điểm Kiểm Soát (Point of Control - POC)</h3>
                    <p class="mb-4">POC là mức giá có <strong class="text-accent">khối lượng giao dịch cao nhất</strong> trong một thanh giá, đại diện cho vùng "giá trị hợp lý" tạm thời. Nó hoạt động như một nam châm hút giá và là mức hỗ trợ/kháng cự vi mô quan trọng.</p>
                    <p>Các vùng có khối lượng cao (HVN) cho thấy sự chấp nhận giá, trong khi các vùng có khối lượng thấp (LVN) cho thấy sự từ chối.</p>
                </div>
                <div class="chart-container h-80 max-h-[40vh]">
                    <canvas id="pocChart"></canvas>
                </div>
            </div>
        </section>
        
        <section id="patterns" class="card bg-blue-50">
            <h2 class="text-2xl font-bold text-main mb-2 text-center">Giải Mã Câu Chuyện Dòng Lệnh</h2>
            <p class="text-center mb-8 max-w-3xl mx-auto">Học cách đọc các mẫu hình dòng lệnh quan trọng để dự đoán các động thái của thị trường.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="font-bold text-main mb-2">Phân Kỳ Delta (Delta Divergence)</h3>
                    <p class="text-sm mb-4">Khi giá và Delta không đồng thuận. Đây là một cảnh báo sớm về sự suy yếu của xu hướng và khả năng đảo chiều.</p>
                    <div class="chart-container h-64 max-h-[30vh]">
                        <canvas id="divergenceChart"></canvas>
                    </div>
                    <p class="text-xs text-gray-500 mt-2 text-center">Ví dụ: Giá tạo đỉnh cao mới, nhưng Delta (sức mua) lại yếu đi.</p>
                </div>

                <div class="card">
                    <h3 class="font-bold text-main mb-2">Hấp Thụ (Absorption)</h3>
                    <p class="text-sm mb-4">Một nỗ lực mua/bán mạnh mẽ bị chặn lại bởi một "bức tường" lệnh giới hạn. Dấu hiệu của sự cạn kiệt và đảo chiều tiềm năng.</p>
                     <div class="chart-container h-64 max-h-[30vh]">
                        <canvas id="absorptionChart"></canvas>
                    </div>
                    <p class="text-xs text-gray-500 mt-2 text-center">Ví dụ: Khối lượng mua rất lớn ở đỉnh nhưng giá không thể đi xa hơn.</p>
                </div>

                <div class="card">
                    <h3 class="font-bold text-main mb-2">Mất Cân Bằng Chồng Chất (Stacked Imbalances)</h3>
                    <p class="text-sm mb-4">Một tín hiệu cực kỳ mạnh mẽ về áp lực định hướng bền vững. Nó cho thấy "con đường ít kháng cự nhất" và xác nhận xu hướng.</p>
                    <div class="flex justify-center items-center h-64 p-4">
                        <div class="w-24 bg-gray-100 p-2 rounded-lg shadow-inner">
                            <div class="flex justify-between text-sm mb-1"><span>10</span><span>x</span><span class="font-bold text-green-600">150</span></div>
                            <div class="flex justify-between text-sm mb-1"><span>25</span><span>x</span><span class="font-bold text-green-600">200</span></div>
                            <div class="flex justify-between text-sm mb-1"><span>30</span><span>x</span><span class="font-bold text-green-600">180</span></div>
                            <div class="flex justify-between text-sm mb-1"><span>105</span><span>x</span><span>90</span></div>
                            <div class="flex justify-between text-sm"><span>150</span><span>x</span><span>50</span></div>
                        </div>
                        <div class="ml-4 text-main">
                            <p class="font-semibold">Làn sóng mua chủ động không ngừng.</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="font-bold text-main mb-2">Nhà Giao Dịch Bị Mắc Kẹt (Trapped Traders)</h3>
                    <p class="text-sm mb-4">Khi một nhóm nhà giao dịch vào lệnh mạnh mẽ nhưng thị trường ngay lập tức di chuyển ngược lại. Lệnh dừng lỗ của họ sẽ là nhiên liệu cho động thái tiếp theo.</p>
                    <div class="flex flex-col items-center justify-center h-64 p-4">
                         <div class="text-center p-3 rounded-lg bg-red-100 border border-red-300">
                            <p class="font-bold text-red-700">Mua mạnh ở đỉnh!</p>
                            <p class="text-sm text-red-600">(Delta dương lớn)</p>
                         </div>
                         <div class="flowchart-arrow my-2 transform rotate-90">➔</div>
                         <div class="text-center p-3 rounded-lg bg-green-100 border border-green-300">
                            <p class="font-bold text-green-700">Giá giảm mạnh</p>
                            <p class="text-sm text-green-600">(Người mua bị mắc kẹt)</p>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="strategy" class="card">
            <h2 class="text-2xl font-bold text-main mb-6 text-center">Khuôn Khổ Giao Dịch Chiến Lược</h2>
            <p class="text-center mb-8 max-w-3xl mx-auto">Tích hợp phân tích Footprint vào một kế hoạch giao dịch có cấu trúc để tăng xác suất thành công.</p>
            <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                <div class="flowchart-step p-4 rounded-lg text-center w-64">
                    <div class="text-3xl mb-2">🗺️</div>
                    <h3 class="font-bold">1. Bối Cảnh Vĩ Mô</h3>
                    <p class="text-sm">Xác định xu hướng và các vùng Hỗ trợ/Kháng cự chính trên khung thời gian cao.</p>
                </div>
                <div class="flowchart-arrow hidden md:block">➔</div>
                <div class="flowchart-arrow md:hidden transform rotate-90">➔</div>
                <div class="flowchart-step p-4 rounded-lg text-center w-64">
                    <div class="text-3xl mb-2">🤔</div>
                    <h3 class="font-bold">2. Hình Thành Giả Thuyết</h3>
                    <p class="text-sm">Dự đoán hành động giá tại các vùng quan tâm. (Ví dụ: "Phe mua sẽ bảo vệ vùng hỗ trợ này").</p>
                </div>
                <div class="flowchart-arrow hidden md:block">➔</div>
                <div class="flowchart-arrow md:hidden transform rotate-90">➔</div>
                <div class="flowchart-step p-4 rounded-lg text-center w-64">
                    <div class="text-3xl mb-2">🔬</div>
                    <h3 class="font-bold">3. Xác Nhận Bằng Footprint</h3>
                    <p class="text-sm">Tìm kiếm các mẫu hình dòng lệnh (hấp thụ, phân kỳ...) để xác nhận hoặc bác bỏ giả thuyết.</p>
                </div>
            </div>
        </section>

        <section id="critique" class="card">
             <h2 class="text-2xl font-bold text-main mb-6 text-center">Lợi Thế và Cạm Bẫy</h2>
             <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                    <h3 class="text-xl font-bold text-green-800 mb-4">✅ Lợi Thế Định Lượng</h3>
                    <ul class="space-y-3 list-inside">
                        <li><strong class="text-green-700">Xác nhận:</strong> Xác thực các mẫu hình truyền thống bằng dữ liệu khách quan.</li>
                        <li><strong class="text-green-700">Độ chính xác:</strong> Cho phép vào lệnh, dừng lỗ và chốt lời chính xác hơn.</li>
                        <li><strong class="text-green-700">Thấu hiểu Tâm lý:</strong> Tiết lộ sự quyết liệt, cạn kiệt và hoảng loạn của thị trường.</li>
                    </ul>
                </div>
                <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500">
                    <h3 class="text-xl font-bold text-red-800 mb-4">❌ Những Cạm Bẫy Cần Tránh</h3>
                     <ul class="space-y-3 list-inside">
                        <li><strong class="text-red-700">Tê liệt Phân tích:</strong> Quá nhiều thông tin có thể dẫn đến do dự.</li>
                        <li><strong class="text-red-700">Thiên vị Xác nhận:</strong> Chỉ tìm kiếm các tín hiệu ủng hộ quan điểm có sẵn.</li>
                        <li><strong class="text-red-700">Yêu cầu cao:</strong> Đòi hỏi dữ liệu chất lượng, phần mềm chuyên dụng và kỷ luật cao.</li>
                    </ul>
                </div>
             </div>
        </section>

    </main>

    <footer class="bg-main text-white text-center p-6 mt-8">
        <p class="font-bold">Phán Quyết Cuối Cùng</p>
        <p class="text-sm max-w-2xl mx-auto text-blue-100">Biểu đồ Footprint là công cụ của chuyên gia, không phải là thuốc chữa bách bệnh. Nó cung cấp một lợi thế thông tin vô giá cho những ai sẵn sàng đầu tư thời gian và công sức để thành thạo.</p>
    </footer>

    <script>
        function wrapLabels(label, maxWidth) {
            const words = label.split(' ');
            let lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + words[i].length + 1 < maxWidth) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };
        
        const commonTooltipOptions = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const bidAskCtx = document.getElementById('bidAskChart').getContext('2d');
            new Chart(bidAskCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Khối lượng Bán chủ động (Bid)', 'Khối lượng Mua chủ động (Ask)'],
                    datasets: [{
                        label: 'Khối lượng',
                        data: [2850, 4100],
                        backgroundColor: ['#E74C3C', '#2ECC71'],
                        borderColor: ['#ffffff'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        title: {
                            display: false,
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback
                            }
                        }
                    }
                }
            });

            const pocCtx = document.getElementById('pocChart').getContext('2d');
            new Chart(pocCtx, {
                type: 'bar',
                data: {
                    labels: ['1550.0', '1550.5', '1551.0', '1551.5', '1552.0', '1552.5'],
                    datasets: [{
                        label: 'Tổng Khối lượng',
                        data: [120, 350, 850, 1500, 900, 200],
                        backgroundColor: (context) => {
                            const chart = context.chart;
                            const {ctx, chartArea} = chart;
                            if (!chartArea) {
                                return;
                            }
                            if (context.dataIndex === 3) {
                                return '#004E89';
                            }
                            return '#48CAE4';
                        },
                        borderColor: '#0077B6',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false,
                        },
                        title: {
                            display: true,
                            text: 'Phân bổ Khối lượng và POC',
                            color: '#004E89'
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback,
                                afterTitle: (context) => {
                                    if(context[0].dataIndex === 3) return 'Point of Control (POC)';
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: { display: true, text: 'Khối lượng' }
                        },
                        y: {
                             title: { display: true, text: 'Mức giá' }
                        }
                    }
                }
            });
            
            const divergenceCtx = document.getElementById('divergenceChart').getContext('2d');
            new Chart(divergenceCtx, {
                type: 'line',
                data: {
                    labels: ['T-4', 'T-3', 'T-2', 'T-1', 'Đỉnh Mới'],
                    datasets: [{
                        label: 'Giá',
                        data: [100, 102, 101, 103, 104],
                        borderColor: '#0077B6',
                        backgroundColor: 'rgba(0, 119, 182, 0.1)',
                        fill: true,
                        yAxisID: 'y'
                    }, {
                        label: 'Delta',
                        data: [500, 600, 550, 700, 450],
                        borderColor: '#E74C3C',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        fill: false,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: commonTooltipOptions
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'Giá' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: { display: true, text: 'Delta' },
                            grid: {
                                drawOnChartArea: false, 
                            },
                        },
                    }
                }
            });

            const absorptionCtx = document.getElementById('absorptionChart').getContext('2d');
            new Chart(absorptionCtx, {
                type: 'bar',
                data: {
                    labels: ['1600.0', '1600.5', '1601.0', '1601.5 (Đỉnh)'],
                    datasets: [{
                        label: 'Khối lượng mua chủ động',
                        data: [150, 200, 350, 2500],
                        backgroundColor: '#2ECC71'
                    }, {
                        label: 'Khối lượng bán chủ động',
                        data: [100, 180, 300, 400],
                        backgroundColor: '#E74C3C'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: commonTooltipOptions
                    },
                    scales: {
                        x: {
                            stacked: true,
                        },
                        y: {
                            stacked: true,
                            title: { display: true, text: 'Khối lượng' }
                        }
                    }
                }
            });

        });
    </script>
    <div style="text-align: center; padding: 3rem 0;">
        <a href="index.html" style="display: inline-block; background-color: #3498db; color: white; padding: 0.8rem 1.8rem; border-radius: 30px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; border: 2px solid transparent; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            Quay lại Trang Blog
        </a>
    </div>
</body>
</html>
